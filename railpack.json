{
  "version": "1.0",
  "name": "Tessera AI Incident Response Agent",
  "description": "AI-powered incident response system that monitors Railway services and provides intelligent Slack notifications with remediation suggestions",
  "icon": "ðŸš¨",
  "tags": ["monitoring", "incident-response", "slack", "ai", "logs", "alerts"],
  "type": "elixir",
  "build": {
    "commands": [
      "npm install",
      "npm run build",
      "mix deps.get --only prod",
      "mix assets.deploy",
      "mix release"
    ],
    "watchPatterns": [
      "lib/**",
      "config/**",
      "priv/**",
      "assets/**",
      "mix.exs",
      "mix.lock"
    ]
  },
  "deploy": {
    "startCommand": "/app/_build/prod/rel/railway_app/bin/railway_app eval 'RailwayApp.Release.migrate' && /app/_build/prod/rel/railway_app/bin/railway_app start",
    "healthcheckPath": "/health",
    "healthcheckTimeout": 300,
    "port": 4000,
    "restartPolicyType": "ON_FAILURE",
    "restartPolicyMaxRetries": 10,
    "environmentVariables": {
      "LANG": "C.UTF-8",
      "LC_ALL": "C.UTF-8",
      "PHX_SERVER": "${PHX_SERVER:true}",
      "DATABASE_URL": "${DATABASE_URL}",
      "SECRET_KEY_BASE": "${SECRET_KEY_BASE}",
      "RAILWAY_API_TOKEN": "${RAILWAY_API_TOKEN}",
      "OPENAI_API_KEY": "${OPENAI_API_KEY}",
      "SLACK_BOT_TOKEN": "${SLACK_BOT_TOKEN}",
      "SLACK_SIGNING_SECRET": "${SLACK_SIGNING_SECRET}",
      "SLACK_CHANNEL_ID": "${SLACK_CHANNEL_ID}",
      "RAILWAY_MONITORED_PROJECTS": "${RAILWAY_MONITORED_PROJECTS:}",
      "RAILWAY_MONITORED_ENVIRONMENTS": "${RAILWAY_MONITORED_ENVIRONMENTS:}",
      "RAILWAY_MONITORED_SERVICES": "${RAILWAY_MONITORED_SERVICES:}",
      "RAILWAY_GRAPHQL_ENDPOINT": "${RAILWAY_GRAPHQL_ENDPOINT:https://backboard.railway.app/graphql/v2}",
      "RAILWAY_WS_ENDPOINT": "${RAILWAY_WS_ENDPOINT:wss://backboard.railway.app/graphql/v2}",
      "ANTHROPIC_API_KEY": "${ANTHROPIC_API_KEY:}",
      "LLM_DEFAULT_PROVIDER": "${LLM_DEFAULT_PROVIDER:openai}",
      "RAILWAY_POLLING_INTERVAL": "${RAILWAY_POLLING_INTERVAL:30}",
      "RAILWAY_RATE_LIMIT_HR": "${RAILWAY_RATE_LIMIT_HR:10000}",
      "RAILWAY_RATE_LIMIT_SEC": "${RAILWAY_RATE_LIMIT_SEC:50}",
      "RAILWAY_MEMORY_LIMIT": "${RAILWAY_MEMORY_LIMIT:512}",
      "RAILWAY_CONNECTION_TIMEOUT": "${RAILWAY_CONNECTION_TIMEOUT:30000}",
      "RAILWAY_MAX_RETRY_ATTEMPTS": "${RAILWAY_MAX_RETRY_ATTEMPTS:10}",
      "RAILWAY_MAX_BACKOFF": "${RAILWAY_MAX_BACKOFF:60000}",
      "RAILWAY_HEARTBEAT_INTERVAL": "${RAILWAY_HEARTBEAT_INTERVAL:30000}",
      "RAILWAY_HEARTBEAT_TIMEOUT": "${RAILWAY_HEARTBEAT_TIMEOUT:45000}",
      "RAILWAY_BATCH_MIN_SIZE": "${RAILWAY_BATCH_MIN_SIZE:10}",
      "RAILWAY_BATCH_MAX_SIZE": "${RAILWAY_BATCH_MAX_SIZE:1000}",
      "RAILWAY_BATCH_WINDOW_MIN": "${RAILWAY_BATCH_WINDOW_MIN:5}",
      "RAILWAY_BATCH_WINDOW_MAX": "${RAILWAY_BATCH_WINDOW_MAX:300}",
      "RAILWAY_BUFFER_RETENTION": "${RAILWAY_BUFFER_RETENTION:24}"
    }
  },
  "services": {
    "database": {
      "type": "postgres",
      "name": "PostgreSQL Database",
      "description": "Stores incident history, configurations, and audit trails"
    }
  }
}
